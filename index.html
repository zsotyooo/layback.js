<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Layback.js by zsotyooo</title>
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="javascripts/respond.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!--[if lt IE 8]>
    <link rel="stylesheet" href="stylesheets/ie.css">
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

  </head>
  <body>
      <div id="header">
        <nav>
          <li class="fork"><a href="https://github.com/zsotyooo/layback.js">View On GitHub</a></li>
          <li class="downloads"><a href="https://github.com/zsotyooo/layback.js/zipball/master">ZIP</a></li>
          <li class="downloads"><a href="https://github.com/zsotyooo/layback.js/tarball/master">TAR</a></li>
          <li class="title">DOWNLOADS</li>
        </nav>
      </div><!-- end header -->

    <div class="wrapper">

      <section>
        <div id="title">
          <h1>Layback.js</h1>
          <p>Dare to be lazy! Create your javascript, add features to it, and make it reusable for the next time.</p>
          <hr>
          <span class="credits left">Project maintained by <a href="https://github.com/zsotyooo">zsotyooo</a></span>
          <span class="credits right">Hosted on GitHub Pages &mdash; Theme by <a href="https://twitter.com/michigangraham">mattgraham</a></span>
        </div>

        <h1>
<a id="laybackjs" class="anchor" href="#laybackjs" aria-hidden="true"><span class="octicon octicon-link"></span></a>layback.js</h1>

<p>As a developer I always kept reusability in mind.</p>

<p>In my everyday work I kept facing the same issues when I had to create some simple javascript code:</p>

<blockquote>
<p>I should be able to somehow pass settings to my object...
Reaching the dom objects would be nice...
I should be able to use events observers...
I can make it as a jQuery plugin with some extra work...
I have items inside...
Oh, it should work a different way on mobile...
Wait, haven't I already done these things before?</p>
</blockquote>

<p>So I started thinking. I need a simple, lightweight solution to enpower my javascript objects with different kind of features.
Something like this would be nice:</p>

<div class="highlight highlight-javascript"><pre><span class="pl-s">var</span> <span class="pl-en">MyClass</span> <span class="pl-k">=</span> <span class="pl-st">function</span>(<span class="pl-vpf">options</span>) {
    <span class="pl-v">this</span>.layback(options);

    <span class="pl-c">// Do my stuff here</span>
}

layback(MyClass) <span class="pl-c">// At this pont I have data access, observer implementation, and dom access</span>
    .defaults({
        data<span class="pl-k">:</span> {
            dummy<span class="pl-k">:</span> <span class="pl-s1"><span class="pl-pds">'</span>foo<span class="pl-pds">'</span></span>,
            something<span class="pl-k">:</span> <span class="pl-s1"><span class="pl-pds">'</span>cool<span class="pl-pds">'</span></span>
        },
        dom<span class="pl-k">:</span> {
            body<span class="pl-k">:</span> <span class="pl-s1"><span class="pl-pds">'</span>body<span class="pl-pds">'</span></span>
        }
    })
    .use(<span class="pl-s1"><span class="pl-pds">'</span>jQuery-plugin<span class="pl-pds">'</span></span>, <span class="pl-s1"><span class="pl-pds">'</span>myPlugin<span class="pl-pds">'</span></span>) <span class="pl-c">// myPlugin jQuery plugin created</span>
    .use(<span class="pl-s1"><span class="pl-pds">'</span>collection<span class="pl-pds">'</span></span>) <span class="pl-c">// items and collection methods added</span>
    .make();</pre></div>

<h1>
<a id="documentation" class="anchor" href="#documentation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Documentation</h1>

<h2>
<a id="applying-layback-to-your-functions" class="anchor" href="#applying-layback-to-your-functions" aria-hidden="true"><span class="octicon octicon-link"></span></a>Applying layback to your functions</h2>

<p>There are two ways to apply the layback features to your function.</p>

<h4>
<a id="adding-feautres-after-creating-a-function" class="anchor" href="#adding-feautres-after-creating-a-function" aria-hidden="true"><span class="octicon octicon-link"></span></a>Adding feautres after creating a function</h4>

<div class="highlight highlight-javascript"><pre><span class="pl-s">var</span> <span class="pl-en">Creature</span> <span class="pl-k">=</span> <span class="pl-st">function</span> (<span class="pl-vpf">properties</span>) {
    <span class="pl-v">this</span>.layback(properties);
    <span class="pl-s3">this</span>.<span class="pl-en">eat</span> <span class="pl-k">=</span> <span class="pl-st">function</span>() {
        <span class="pl-v">this</span>.dispatch(<span class="pl-s1"><span class="pl-pds">'</span>before-eating<span class="pl-pds">'</span></span>);
        <span class="pl-v">this</span>.set(<span class="pl-s1"><span class="pl-pds">'</span>hunger<span class="pl-pds">'</span></span>, <span class="pl-v">this</span>.get(<span class="pl-s1"><span class="pl-pds">'</span>hunger<span class="pl-pds">'</span></span>)<span class="pl-k">-</span><span class="pl-c1">1</span>);
        <span class="pl-v">this</span>.set(<span class="pl-s1"><span class="pl-pds">'</span>stamina<span class="pl-pds">'</span></span>, <span class="pl-v">this</span>.get(<span class="pl-s1"><span class="pl-pds">'</span>stamina<span class="pl-pds">'</span></span>)<span class="pl-k">+</span><span class="pl-c1">1</span>);
        <span class="pl-v">this</span>.dispatch(<span class="pl-s1"><span class="pl-pds">'</span>after-eating<span class="pl-pds">'</span></span>);
        <span class="pl-k">return</span> <span class="pl-v">this</span>;
    }
}
layback(Creature).make();

<span class="pl-s">var</span> creature <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Creature</span>({hunger<span class="pl-k">:</span> <span class="pl-c1">100</span>, stamina<span class="pl-k">:</span> <span class="pl-c1">10</span>});
creature.eat().get(<span class="pl-s1"><span class="pl-pds">'</span>hunger<span class="pl-pds">'</span></span>); <span class="pl-c">// 99</span>
creature.get(<span class="pl-s1"><span class="pl-pds">'</span>stamina<span class="pl-pds">'</span></span>); <span class="pl-c">// 11</span></pre></div>

<h4>
<a id="creating-a-function-via-layback" class="anchor" href="#creating-a-function-via-layback" aria-hidden="true"><span class="octicon octicon-link"></span></a>Creating a function via layback</h4>

<p><em>Note that the Function will be created globally accessable (in window)</em></p>

<div class="highlight highlight-javascript"><pre>layback(<span class="pl-s1"><span class="pl-pds">'</span>Creature<span class="pl-pds">'</span></span>, <span class="pl-st">function</span> (<span class="pl-vpf">properties</span>) {
    <span class="pl-v">this</span>.layback(properties);
    <span class="pl-s3">this</span>.<span class="pl-en">eat</span> <span class="pl-k">=</span> <span class="pl-st">function</span>() {
        <span class="pl-c">//...</span>
    }
}).make();
<span class="pl-c">//...</span></pre></div>

<h4>
<a id="accessing-layback-features-of-a-function-that-already-uses-layback" class="anchor" href="#accessing-layback-features-of-a-function-that-already-uses-layback" aria-hidden="true"><span class="octicon octicon-link"></span></a>Accessing layback features of a function that already uses layback</h4>

<div class="highlight highlight-javascript"><pre>layback(Creature); <span class="pl-c">// =&gt; Layback object for the class</span>
Creature.layback(); <span class="pl-c">// Alternative way of getting it</span>
<span class="pl-c">//...</span></pre></div>

<h4>
<a id="accessing-layback-features-of-an-object-that-already-uses-layback" class="anchor" href="#accessing-layback-features-of-an-object-that-already-uses-layback" aria-hidden="true"><span class="octicon octicon-link"></span></a>Accessing layback features of an object that already uses layback</h4>

<div class="highlight highlight-javascript"><pre><span class="pl-s">var</span> cat <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Creature</span>;
layback(cat) <span class="pl-c">// =&gt; Layback object for the object</span>
cat.layback() <span class="pl-c">// Alternative way of getting it</span>
<span class="pl-c">//...</span></pre></div>

<h2>
<a id="data-handling" class="anchor" href="#data-handling" aria-hidden="true"><span class="octicon octicon-link"></span></a>Data handling</h2>

<p>Data handling is pretty simple. You can set default values for all the data you'd like to use, and you can use them pretty flexible.</p>

<h3>
<a id="setting-the-default-data" class="anchor" href="#setting-the-default-data" aria-hidden="true"><span class="octicon octicon-link"></span></a>Setting the default data</h3>

<p>The default data sets defaults values to all the data accessable inside the object. You can do it by calling the <code>defaults</code> function while adding the layback features.</p>

<div class="highlight highlight-javascript"><pre>layback(<span class="pl-s1"><span class="pl-pds">'</span>Creature<span class="pl-pds">'</span></span>, <span class="pl-st">function</span>(<span class="pl-vpf">properties</span>) {
    <span class="pl-c">// You can set Default data for the object here. It overrides the default data on the class</span>
    <span class="pl-c">// Note that the format is like this: 'laybackNamespace'</span>
    <span class="pl-v">this</span>.laybackData <span class="pl-k">=</span> {
        hunger<span class="pl-k">:</span> <span class="pl-c1">1</span>
    };
    <span class="pl-v">this</span>.layback(properties);
})
.defaults({ <span class="pl-c">// Set default data on the class</span>
    data<span class="pl-k">:</span> { <span class="pl-c">// This is a data namespace (explained later)</span>
        hunger<span class="pl-k">:</span> <span class="pl-c1">0</span>,
        stamina<span class="pl-k">:</span> <span class="pl-c1">100</span>
    }
})
.make();
<span class="pl-s">var</span> creature <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Creature</span>();
creature.get(<span class="pl-s1"><span class="pl-pds">'</span>hunger<span class="pl-pds">'</span></span>); <span class="pl-c">// 1</span>
creature.get(<span class="pl-s1"><span class="pl-pds">'</span>stamina<span class="pl-pds">'</span></span>); <span class="pl-c">// 100</span></pre></div>

<h3>
<a id="adding-your-own-data-namespace" class="anchor" href="#adding-your-own-data-namespace" aria-hidden="true"><span class="octicon octicon-link"></span></a>Adding your own data namespace</h3>

<div class="highlight highlight-javascript"><pre>layback(<span class="pl-s1"><span class="pl-pds">'</span>Creature<span class="pl-pds">'</span></span>, <span class="pl-st">function</span>(<span class="pl-vpf">properties</span>) {
    <span class="pl-c">// You can set Default data for the object here. It overrides the default data on the class</span>
    <span class="pl-c">// Note that the format is like this: 'laybackNamespace'</span>
    <span class="pl-v">this</span>.skinData <span class="pl-k">=</span> {
        hasHair<span class="pl-k">:</span> <span class="pl-c1">false</span>
    };
    <span class="pl-v">this</span>.layback(properties)
        .addNs(<span class="pl-s1"><span class="pl-pds">'</span>skinData<span class="pl-pds">'</span></span>);

    <span class="pl-v">this</span>.skinData; <span class="pl-c">// Object {color:'brown', hasHair: false}</span>
})
.defaults({ <span class="pl-c">// Set default data on the class</span>
    skinData<span class="pl-k">:</span> { <span class="pl-c">// This is your namespace</span>
        color<span class="pl-k">:</span> <span class="pl-s1"><span class="pl-pds">'</span>brown<span class="pl-pds">'</span></span>,
        hasHair<span class="pl-k">:</span> <span class="pl-c1">true</span>
    }
})
.make();</pre></div>

<h2>
<a id="the-treats" class="anchor" href="#the-treats" aria-hidden="true"><span class="octicon octicon-link"></span></a>The treats</h2>

<p>The treats are adding extra features to your function. This is the heart of layback.js.</p>

<p>There are 2 different kinds of treats:</p>

<ul>
<li>
<strong>Sytem treats:</strong> Automatically applied on your function when you call <code>.make()</code>.</li>
<li>
<strong>Optional treats:</strong> You have to add them yourselves by calling the <code>.use(treatName)</code> function.</li>
</ul>

<h3>
<a id="data-treat-system" class="anchor" href="#data-treat-system" aria-hidden="true"><span class="octicon octicon-link"></span></a>Data treat (system)</h3>

<p>It allows you to access data inside the object, it also automatically handles the options you pass to the <code>this.layback(options)</code> function.</p>

<h4>
<a id="added-features" class="anchor" href="#added-features" aria-hidden="true"><span class="octicon octicon-link"></span></a>Added features</h4>

<ul>
<li>
<code>get(dataName, [default])</code>: It gets a data. If it doesnt exist can get the <code>default</code> value back.</li>
<li>
<code>set(dataName, dataValue)</code>: It sets a data with the key on <code>dataName</code>, and the value of <code>dataValue</code>.</li>
</ul>

<h4>
<a id="example-usage" class="anchor" href="#example-usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example usage</h4>

<div class="highlight highlight-javascript"><pre>layback(<span class="pl-s1"><span class="pl-pds">'</span>Creature<span class="pl-pds">'</span></span>, <span class="pl-st">function</span>(<span class="pl-vpf">properties</span>) {
    <span class="pl-c">// You can set/overwrite some default data here as well.</span>
    <span class="pl-c">// It comes in handy when you have to do some pre calculations</span>
    <span class="pl-v">this</span>.laybackData <span class="pl-k">=</span> {
        stamina<span class="pl-k">:</span> <span class="pl-s3">Math</span>.<span class="pl-s3">round</span>(<span class="pl-s3">Math</span>.<span class="pl-s3">random</span>() <span class="pl-k">*</span> <span class="pl-c1">100</span>)
    };
    <span class="pl-v">this</span>.layback(properties);
    <span class="pl-c">//...</span>
})
.defaults({
    data<span class="pl-k">:</span> {
        hunger<span class="pl-k">:</span> <span class="pl-c1">0</span>,
        stamina<span class="pl-k">:</span> <span class="pl-c1">100</span>
    }
})
.make();

<span class="pl-s">var</span> creature1 <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Creature</span>; <span class="pl-c">// Using the default data only</span>
creature1.get(<span class="pl-s1"><span class="pl-pds">'</span>hunger<span class="pl-pds">'</span></span>); <span class="pl-c">// 0</span>
creature1.get(<span class="pl-s1"><span class="pl-pds">'</span>stamina<span class="pl-pds">'</span></span>); <span class="pl-c">// 1..100 random number</span>

<span class="pl-s">var</span> creature2 <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Creature</span>({hunger<span class="pl-k">:</span> <span class="pl-c1">50</span>}); <span class="pl-c">// Using custom options</span>
creature2.get(<span class="pl-s1"><span class="pl-pds">'</span>hunger<span class="pl-pds">'</span></span>); <span class="pl-c">// 50</span>
creature2.get(<span class="pl-s1"><span class="pl-pds">'</span>stamina<span class="pl-pds">'</span></span>); <span class="pl-c">// 1..100 random number</span></pre></div>

<h3>
<a id="event-treat-system" class="anchor" href="#event-treat-system" aria-hidden="true"><span class="octicon octicon-link"></span></a>Event treat (system)</h3>

<p>It's a simple observer implementation.</p>

<h4>
<a id="added-features-1" class="anchor" href="#added-features-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Added features</h4>

<ul>
<li>
<code>dispatch(eventName, [eventData])</code>: It fires an avent with <code>eventName</code>, and you can dispatch exra data by using the <code>eventData</code> argument.</li>
<li>
<code>observe(eventName, observerFunction)</code>: It observes the <code>eventName</code> event.
The observerFunction recieves the <code>observee</code> object, and the <code>eventData</code>.</li>
</ul>

<h4>
<a id="using-default-observers" class="anchor" href="#using-default-observers" aria-hidden="true"><span class="octicon octicon-link"></span></a>Using default observers</h4>

<div class="highlight highlight-javascript"><pre>layback(<span class="pl-s1"><span class="pl-pds">'</span>Creature<span class="pl-pds">'</span></span>, <span class="pl-st">function</span>(<span class="pl-vpf">properties</span>) {
    <span class="pl-c">// You can set/overwrite some default observers here as well</span>
    <span class="pl-c">// It comes in handy when you have to do some pre calculations</span>
    <span class="pl-v">this</span>.laybackCallbacks <span class="pl-k">=</span> {
        <span class="pl-s1"><span class="pl-pds">'</span>after-stop-walking<span class="pl-pds">'</span></span><span class="pl-k">:</span> {
            <span class="pl-en">toDo</span>: <span class="pl-st">function</span>(<span class="pl-vpf">obj</span>, <span class="pl-vpf">nextAction</span>){<span class="pl-c">// you can add more observers to the same event</span>
                obj.set(<span class="pl-s1"><span class="pl-pds">'</span>nextAction<span class="pl-pds">'</span></span>, nextAction);
            }
        }
    }
    <span class="pl-v">this</span>.layback(properties);

    <span class="pl-s3">this</span>.<span class="pl-en">startWalking</span> <span class="pl-k">=</span> <span class="pl-st">function</span>() {
        <span class="pl-v">this</span>.set(<span class="pl-s1"><span class="pl-pds">'</span>walking<span class="pl-pds">'</span></span>, <span class="pl-c1">true</span>);
        <span class="pl-v">this</span>.dispatch(<span class="pl-s1"><span class="pl-pds">'</span>after-start-walking<span class="pl-pds">'</span></span>);
    }

    <span class="pl-s3">this</span>.<span class="pl-en">stopWalking</span> <span class="pl-k">=</span> <span class="pl-st">function</span>(<span class="pl-vpf">nextAction</span>) {
        <span class="pl-v">this</span>.set(<span class="pl-s1"><span class="pl-pds">'</span>walking<span class="pl-pds">'</span></span>, <span class="pl-c1">false</span>);
        <span class="pl-v">this</span>.dispatch(<span class="pl-s1"><span class="pl-pds">'</span>after-stop-walking<span class="pl-pds">'</span></span>, nextAction);
    }

    <span class="pl-c">//...</span>
})
.defaults({
    data<span class="pl-k">:</span> {
        legs<span class="pl-k">:</span> <span class="pl-c1">0</span>
    },
    callbacks<span class="pl-k">:</span> {
        <span class="pl-s1"><span class="pl-pds">'</span>after-start-walking<span class="pl-pds">'</span></span><span class="pl-k">:</span> {
            <span class="pl-en">canWalk</span>: <span class="pl-st">function</span>(<span class="pl-vpf">obj</span>, <span class="pl-vpf">data</span>) {
                <span class="pl-k">if</span> (obj.get(<span class="pl-s1"><span class="pl-pds">'</span>legs<span class="pl-pds">'</span></span>) <span class="pl-k">==</span> <span class="pl-c1">0</span>) {
                    obj.stopWalking(<span class="pl-s1"><span class="pl-pds">'</span>idling<span class="pl-pds">'</span></span>);
                }
            }
        }
    }
})
.make();

<span class="pl-s">var</span> fish <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Creature</span>({legs<span class="pl-k">:</span> <span class="pl-c1">0</span>});
fish.startWalking(); <span class="pl-c">// The observer has stopped the walking</span>
fish.get(<span class="pl-s1"><span class="pl-pds">'</span>walking<span class="pl-pds">'</span></span>); <span class="pl-c">// false</span>
fish.get(<span class="pl-s1"><span class="pl-pds">'</span>nextAction<span class="pl-pds">'</span></span>); <span class="pl-c">// idling</span>

<span class="pl-s">var</span> cat <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Creature</span>({legs<span class="pl-k">:</span> <span class="pl-c1">4</span>});
cat.startWalking(); <span class="pl-c">// The observer has not stopped the walking</span>
cat.get(<span class="pl-s1"><span class="pl-pds">'</span>walking<span class="pl-pds">'</span></span>); <span class="pl-c">// true</span></pre></div>

<h4>
<a id="using-observers-on-the-fly" class="anchor" href="#using-observers-on-the-fly" aria-hidden="true"><span class="octicon octicon-link"></span></a>Using observers on-the-fly</h4>

<div class="highlight highlight-javascript"><pre>cat.observe(<span class="pl-s1"><span class="pl-pds">'</span>after-start-walking<span class="pl-pds">'</span></span>, <span class="pl-st">function</span>(<span class="pl-vpf">obj</span>) {
    obj.liftTail();
});</pre></div>

<h4>
<a id="using-observers-via-options" class="anchor" href="#using-observers-via-options" aria-hidden="true"><span class="octicon octicon-link"></span></a>Using observers via options</h4>

<div class="highlight highlight-javascript"><pre>layback(Creature).make();
<span class="pl-s">var</span> cat <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Creature</span>({
    legs<span class="pl-k">:</span> <span class="pl-c1">4</span>,
    <span class="pl-en">onAfterStartWalking</span>: <span class="pl-st">function</span>(<span class="pl-vpf">obj</span>) { <span class="pl-c">// Note that I added 'on' and camelised the event name</span>
        obj.liftTail();
    }
});</pre></div>

<h3>
<a id="dom-treat-system" class="anchor" href="#dom-treat-system" aria-hidden="true"><span class="octicon octicon-link"></span></a>DOM treat (system)</h3>

<p>You can access the DOM. <em>It uses jQuery!</em></p>

<h4>
<a id="added-features-2" class="anchor" href="#added-features-2" aria-hidden="true"><span class="octicon octicon-link"></span></a>Added features</h4>

<ul>
<li>
<code>dom(elementName [, parentElement])</code>: gives you a DOM element with the given name (passed as a dom data).</li>
</ul>

<h3>
<a id="using-dom-via-defaults" class="anchor" href="#using-dom-via-defaults" aria-hidden="true"><span class="octicon octicon-link"></span></a>Using DOM via defaults</h3>

<div class="highlight highlight-javascript"><pre>layback(<span class="pl-s1"><span class="pl-pds">'</span>Creature<span class="pl-pds">'</span></span>, <span class="pl-st">function</span>(<span class="pl-vpf">properties</span>){
    <span class="pl-c">// Set/overwrite defaults here</span>
    <span class="pl-v">this</span>.laybackDom <span class="pl-k">=</span> {
        infoContainer<span class="pl-k">:</span> $(<span class="pl-s1"><span class="pl-pds">"</span>&lt;p class='new-info'&gt;&lt;/p&gt;<span class="pl-pds">"</span></span>).appendTo(<span class="pl-s1"><span class="pl-pds">'</span>body<span class="pl-pds">'</span></span>) <span class="pl-c">// note that now it's a jQuery element, not only a selector</span>
    }
    <span class="pl-c">//...</span>
    <span class="pl-v">this</span>.layback(properties);

    <span class="pl-s3">this</span>.<span class="pl-en">showMood</span> <span class="pl-k">=</span> <span class="pl-st">function</span>(<span class="pl-vpf">txt</span>) {
        <span class="pl-v">this</span>.dom(<span class="pl-s1"><span class="pl-pds">'</span>infoContainer<span class="pl-pds">'</span></span>).html(txt);
    }

    <span class="pl-s3">this</span>.<span class="pl-en">say</span> <span class="pl-k">=</span> <span class="pl-st">function</span>(<span class="pl-vpf">txt</span>) {
        <span class="pl-v">this</span>.dom(<span class="pl-s1"><span class="pl-pds">'</span>talkContainer<span class="pl-pds">'</span></span>).append($(<span class="pl-s1"><span class="pl-pds">"</span>&lt;p&gt;<span class="pl-pds">"</span></span> <span class="pl-k">+</span> txt <span class="pl-k">+</span> <span class="pl-s1"><span class="pl-pds">"</span>&lt;/p&gt;<span class="pl-pds">"</span></span>));
    }
}).defaults({
    dom<span class="pl-k">:</span> {
        infoContainer<span class="pl-k">:</span> <span class="pl-s1"><span class="pl-pds">'</span>p.info<span class="pl-pds">'</span></span>,
        talkContainer<span class="pl-k">:</span> <span class="pl-s1"><span class="pl-pds">'</span>.talk<span class="pl-pds">'</span></span>
    }
})
.make();
<span class="pl-s">var</span> cat <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Creature</span>;
cat.showMood(<span class="pl-s1"><span class="pl-pds">'</span>The cat is hungry!<span class="pl-pds">'</span></span>); <span class="pl-c">// The text appears in p.new-info</span>
cat.say(<span class="pl-s1"><span class="pl-pds">'</span>Feed me!<span class="pl-pds">'</span></span>); <span class="pl-c">// The text appears in .talk</span></pre></div>

<h3>
<a id="using-dom-via-options" class="anchor" href="#using-dom-via-options" aria-hidden="true"><span class="octicon octicon-link"></span></a>Using DOM via options</h3>

<div class="highlight highlight-javascript"><pre><span class="pl-s">var</span> dog <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Creature</span>({
    talkContainerElement<span class="pl-k">:</span> <span class="pl-s1"><span class="pl-pds">'</span>.talk-dog<span class="pl-pds">'</span></span> <span class="pl-c">// Note that I added 'Element' after the dom key</span>
});
dog.showMood(<span class="pl-s1"><span class="pl-pds">'</span>The dog is sad!<span class="pl-pds">'</span></span>); <span class="pl-c">// The text appears in p.new-info</span>
cat.say(<span class="pl-s1"><span class="pl-pds">'</span>Play with me!<span class="pl-pds">'</span></span>); <span class="pl-c">// The text appears in .talk-dog</span></pre></div>

<h3>
<a id="setget-treat-optional" class="anchor" href="#setget-treat-optional" aria-hidden="true"><span class="octicon octicon-link"></span></a>SetGet treat (optional)</h3>

<p>The setget treat provides shorthand setters and getters for your object.
The setters/getters work as explained in the Data treat section.
<em>It works only with the data provided as default data as well!</em></p>

<h4>
<a id="example-usage-1" class="anchor" href="#example-usage-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example usage</h4>

<div class="highlight highlight-javascript"><pre>layback(Creature)
.defaults({
    data<span class="pl-k">:</span> {
        legs<span class="pl-k">:</span> <span class="pl-c1">4</span>,
        canSwim<span class="pl-k">:</span> <span class="pl-c1">true</span>
    }
})
.use(<span class="pl-s1"><span class="pl-pds">'</span>setget<span class="pl-pds">'</span></span>)
.make();

<span class="pl-s">var</span> fish <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Creature</span>;
fish.setLegs(<span class="pl-c1">0</span>);
fish.getLegs(); <span class="pl-c">// 0</span>

<span class="pl-s">var</span> cat <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Creature</span>;
cat.setCanSwim(<span class="pl-c1">false</span>);
cat.getCanSwim(); <span class="pl-c">// false</span></pre></div>

<h3>
<a id="collection-treat" class="anchor" href="#collection-treat" aria-hidden="true"><span class="octicon octicon-link"></span></a>Collection treat</h3>

<p>Adds collection features to your function object.</p>

<h4>
<a id="added-features-3" class="anchor" href="#added-features-3" aria-hidden="true"><span class="octicon octicon-link"></span></a>Added features</h4>

<ul>
<li>
<code>addCollectionItem(item)</code>: Adds item(s) to the collection. Accepts any kind of object, array of objects, or jQuery objects</li>
<li>
<code>getCollectionItem(index)</code>: Get the item at index position</li>
<li>
<code>getCollectionItems()</code>: Retrieves the items</li>
<li>
<code>removeCollectionItem(item)</code>: Removes the item from the collection</li>
<li>
<code>getCollectionSize()</code>: get the length of the collection</li>
<li>
<code>eachCollectionItems(callback)</code>: applies the callback function for each items. See jQuery.each for more info.</li>
<li>
<code>grepCollectionItems(checkfunction)</code>: Greps items from the collection. See jQuery.grep for more info.</li>
<li>
<code>sliceCollectionItems(begin[, end, callback])</code>: Gets a slice of the collection items from <code>begin</code> to <code>end</code>, and applies <code>callback</code> to them</li>
<li>
<code>setPagerLimit(limit)</code>: Sets the pages size.</li>
<li>
<code>setPageItems(page)</code>: gets the items at <code>page</code> page.</li>
</ul>

<h4>
<a id="example-usage-2" class="anchor" href="#example-usage-2" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example usage</h4>

<div class="highlight highlight-javascript"><pre>layback(Creature).use(<span class="pl-s1"><span class="pl-pds">'</span>collection<span class="pl-pds">'</span></span>).make();

<span class="pl-s">var</span> obj <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Creature</span>;
<span class="pl-c">// You can add Object, Array of Objects, jQuery objects here</span>
obj.addCollectionItem($(<span class="pl-s1"><span class="pl-pds">'</span>.item<span class="pl-pds">'</span></span>));
obj.getCollectionItems(); <span class="pl-c">// the items</span>
obj.getCollectionItemPosition($(<span class="pl-s1"><span class="pl-pds">'</span>.item<span class="pl-pds">'</span></span>)[<span class="pl-c1">2</span>]); <span class="pl-c">// 3</span>
obj.removeCollectionItem($(<span class="pl-s1"><span class="pl-pds">'</span>.item<span class="pl-pds">'</span></span>)[<span class="pl-c1">1</span>]); <span class="pl-c">// removes the item</span>
obj.getCollectionSize(); <span class="pl-c">// collection length</span>

obj.eachCollectionItems(<span class="pl-st">function</span>(<span class="pl-vpf">i</span>, <span class="pl-vpf">item</span>){
    $(item).addClass((i <span class="pl-k">%</span> <span class="pl-c1">2</span>) <span class="pl-k">?</span> <span class="pl-s1"><span class="pl-pds">'</span>odd<span class="pl-pds">'</span></span> <span class="pl-k">:</span> <span class="pl-s1"><span class="pl-pds">'</span>even<span class="pl-pds">'</span></span>);
}); <span class="pl-c">// adding even and odd casses</span>

obj.grepCollectionItems(<span class="pl-st">function</span>(<span class="pl-vpf">item</span>) {
  <span class="pl-k">return</span> <span class="pl-k">!</span>$(item).hasClass(<span class="pl-s1"><span class="pl-pds">'</span>even<span class="pl-pds">'</span></span>);
})); <span class="pl-c">// get every second element</span>

obj.sliceCollectionItems(<span class="pl-c1">30</span>, <span class="pl-c1">40</span>, <span class="pl-st">function</span>(<span class="pl-vpf">i</span>, <span class="pl-vpf">item</span>){
    $(item).css(<span class="pl-s1"><span class="pl-pds">'</span>background<span class="pl-pds">'</span></span>, <span class="pl-s1"><span class="pl-pds">'</span>red<span class="pl-pds">'</span></span>);
}); <span class="pl-c">// Set red bg to items 30..40</span>

obj.setPagerLimit(<span class="pl-c1">10</span>);
obj.getPageItems(<span class="pl-c1">2</span>); <span class="pl-c">// get elements 10..20 </span></pre></div>

<h3>
<a id="responsive-features" class="anchor" href="#responsive-features" aria-hidden="true"><span class="octicon octicon-link"></span></a>Responsive features</h3>

<p>Using this treat you can change the data inside the object based the window width breakpoints.
In addition you can set responders which run only if you are on the defined breakpoint.</p>

<h4>
<a id="added-features-4" class="anchor" href="#added-features-4" aria-hidden="true"><span class="octicon octicon-link"></span></a>Added features</h4>

<ul>
<li>
<code>getCurrentBreakpoint()</code>: get the current breakpoint, and width. e.g: {name: 'tablet', width: 760}</li>
<li>
<code>respondTo(breakpoint, callback)</code>: Add a <code>callback</code> which only applied when you anter the <code>breakpoint</code> zone.</li>
</ul>

<h4>
<a id="example-usage-3" class="anchor" href="#example-usage-3" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example usage</h4>

<div class="highlight highlight-javascript"><pre>layback(Creature)
    .defaults({
        data<span class="pl-k">:</span> {
            renderWidth<span class="pl-k">:</span> <span class="pl-c1">1000</span>
        },
        breakpoints<span class="pl-k">:</span> {
            mobile<span class="pl-k">:</span> {
                width<span class="pl-k">:</span> <span class="pl-c1">760</span>, 
                data<span class="pl-k">:</span> {
                    renderWidth<span class="pl-k">:</span> <span class="pl-c1">300</span>
                }
            },
            tablet<span class="pl-k">:</span> {
                width<span class="pl-k">:</span> <span class="pl-c1">980</span>, 
                data<span class="pl-k">:</span> {
                    renderWidth<span class="pl-k">:</span> <span class="pl-c1">900</span>
                }
            }
        }
    })
    .use(<span class="pl-s1"><span class="pl-pds">'</span>respond<span class="pl-pds">'</span></span>)
    .make();

<span class="pl-s">var</span> obj <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Creature</span>;
obj.respondTo(<span class="pl-s1"><span class="pl-pds">'</span>mobile<span class="pl-pds">'</span></span>, <span class="pl-st">function</span>(){
    <span class="pl-en">console</span><span class="pl-s3">.log</span>(
        <span class="pl-v">this</span>.getCurrentBreakpoint().<span class="pl-sc">name</span>
        <span class="pl-k">+</span> <span class="pl-s1"><span class="pl-pds">'</span>:<span class="pl-pds">'</span></span> <span class="pl-k">+</span> <span class="pl-v">this</span>.get(<span class="pl-s1"><span class="pl-pds">'</span>renderWidth<span class="pl-pds">'</span></span>)
    );
});
obj.respondTo(<span class="pl-s1"><span class="pl-pds">'</span>tablet<span class="pl-pds">'</span></span>, <span class="pl-st">function</span>(){
    <span class="pl-en">console</span><span class="pl-s3">.log</span>(
        <span class="pl-v">this</span>.getCurrentBreakpoint().<span class="pl-sc">name</span>
        <span class="pl-k">+</span> <span class="pl-s1"><span class="pl-pds">'</span>:<span class="pl-pds">'</span></span> <span class="pl-k">+</span> <span class="pl-v">this</span>.get(<span class="pl-s1"><span class="pl-pds">'</span>renderWidth<span class="pl-pds">'</span></span>)
    );
});
<span class="pl-c">// below 760px&gt; mobile:300, above 760px&gt; tablet:900</span></pre></div>
      </section>

    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-60790087-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>